function format(t){return'<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr><td>Full name:</td><td>'+t.name+"</td></tr><tr><td>Extension number:</td><td>"+t.extn+"</td></tr><tr><td>Extra info:</td><td>And any further details here (images etc)...</td></tr></table>"}$(function(){$(".js-basic-example").DataTable(),$(".js-exportable").DataTable({dom:"Bfrtip",buttons:["copy","csv","excel","pdf","print"]})}),$(document).ready(function(){var t=$("#example").DataTable({ajax:"assets/data/objects.txt",columns:[{className:"details-control",orderable:!1,data:null,defaultContent:""},{data:"name"},{data:"position"},{data:"office"},{data:"salary"}],order:[[1,"asc"]]});$("#example tbody").on("click","td.details-control",function(){var a=$(this).closest("tr"),i=t.row(a);i.child.isShown()?(i.child.hide(),a.removeClass("shown")):(i.child(format(i.data())).show(),a.addClass("shown"))})});var addRowTable={options:{addButton:"#addToTable",table:"#addrowExample",dialog:{}},initialize:function(){this.setVars().build().events()},setVars:function(){return this.$table=$(this.options.table),this.$addButton=$(this.options.addButton),this.dialog={},this.dialog.$wrapper=$(this.options.dialog.wrapper),this.dialog.$cancel=$(this.options.dialog.cancelButton),this.dialog.$confirm=$(this.options.dialog.confirmButton),this},build:function(){return this.datatable=this.$table.DataTable({aoColumns:[null,null,null,{bSortable:!1}]}),window.dt=this.datatable,this},events:function(){var t=this;return this.$table.on("click","button.button-save",function(a){a.preventDefault(),t.rowSave($(this).closest("tr"))}).on("click","button.button-discard",function(a){a.preventDefault(),t.rowCancel($(this).closest("tr"))}).on("click","button.button-edit",function(a){a.preventDefault(),t.rowEdit($(this).closest("tr"))}).on("click","button.button-remove",function(a){a.preventDefault();var i=$(this).closest("tr");swal({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){t.rowRemove(i),swal("Deleted!","Your imaginary file has been deleted.","success")})}),this.$addButton.on("click",function(a){a.preventDefault(),t.rowAdd()}),this.dialog.$cancel.on("click",function(t){t.preventDefault(),$.magnificPopup.close()}),this},rowAdd:function(){var t,a,i;this.$addButton.attr({disabled:"disabled"}),t=['<button class="btn btn-sm btn-icon btn-pure btn-default on-editing button-save" data-toggle="tooltip" data-original-title="Save" hidden><i class="icon-drawer" aria-hidden="true"></i></button>','<button class="btn btn-sm btn-icon btn-pure btn-default on-editing button-discard" data-toggle="tooltip" data-original-title="Discard" hidden><i class="icon-close" aria-hidden="true"></i></button>','<button class="btn btn-sm btn-icon btn-pure btn-default on-default button-edit" data-toggle="tooltip" data-original-title="Edit"><i class="icon-pencil" aria-hidden="true"></i></button>','<button class="btn btn-sm btn-icon btn-pure btn-default on-default button-remove" data-toggle="tooltip" data-original-title="Remove"><i class="icon-trash" aria-hidden="true"></i></button>'].join(" "),a=this.datatable.row.add(["","","",t]),(i=this.datatable.row(a[0]).nodes().to$()).addClass("adding").find("td:last").addClass("actions"),this.rowEdit(i),this.datatable.order([0,"asc"]).draw()},rowCancel:function(t){var a,i;t.hasClass("adding")?this.rowRemove(t):((a=t.find("td.actions")).find(".button-discard").tooltip("hide"),a.get(0)&&this.rowSetActionsDefault(t),i=this.datatable.row(t.get(0)).data(),this.datatable.row(t.get(0)).data(i),this.handleTooltip(t),this.datatable.draw())},rowEdit:function(t){var a,i=this;a=this.datatable.row(t.get(0)).data(),t.children("td").each(function(n){var e=$(this);e.hasClass("actions")?i.rowSetActionsEditing(t):e.html('<input type="text" class="form-control input-block" value="'+a[n]+'"/>')})},rowSave:function(t){var a,i,n=this;t.hasClass("adding")&&(this.$addButton.removeAttr("disabled"),t.removeClass("adding")),i=t.find("td").map(function(){var a=$(this);return a.hasClass("actions")?(n.rowSetActionsDefault(t),n.datatable.cell(this).data()):$.trim(a.find("input").val())}),(a=t.find("td.actions")).find(".button-save").tooltip("hide"),a.get(0)&&this.rowSetActionsDefault(t),this.datatable.row(t.get(0)).data(i),this.handleTooltip(t),this.datatable.draw()},rowRemove:function(t){t.hasClass("adding")&&this.$addButton.removeAttr("disabled"),this.datatable.row(t.get(0)).remove().draw()},rowSetActionsEditing:function(t){t.find(".on-editing").removeAttr("hidden"),t.find(".on-default").attr("hidden",!0)},rowSetActionsDefault:function(t){t.find(".on-editing").attr("hidden",!0),t.find(".on-default").removeAttr("hidden")},handleTooltip:function(t){t.find('[data-toggle="tooltip"]').tooltip()}};$(function(){addRowTable.initialize()});